(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{5488:function(e,t,a){Promise.resolve().then(a.t.bind(a,8670,23)),Promise.resolve().then(a.bind(a,9903)),Promise.resolve().then(a.bind(a,1433))},9903:function(e,t,a){"use strict";a.d(t,{default:function(){return E}});var r=a(1919),n=a(277),l=a(7730),s=a(4664);let i=l.O.NEXT_PUBLIC_PAYLOAD_URI+"/api/events?limit=100";async function c(){try{let e=(await s._.get.query([i,{cache:"no-store",prefixUrl:""}])).docs,t=[];for(let a in e){let r=o(e[a]);t.push(r)}return t.sort((e,t)=>{let a=new Date("".concat(e.date.year,"-").concat(e.date.month,"-").concat(e.date.day)),r=new Date("".concat(t.date.year,"-").concat(t.date.month,"-").concat(t.date.day));return a.getTime()-r.getTime()}),t}catch(e){return console.error("Error fetching events:",e),[]}}let o=e=>{var t;let a=new Date(e.date);return{title:e.title,date:{year:a.getUTCFullYear(),month:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][a.getUTCMonth()],day:a.getUTCDate(),endTime:null!==(t=a.toString().split(" - ")[1])&&void 0!==t?t:"21:00"},time:e.time?"".concat(new Date(e.time.start).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})," - \n            ").concat(new Date(e.time.end).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})):"Unknown",location:e.location,details:e.details,url:e.link&&e.link.Link?{href:new URL(e.link.Link),text:e.link.displayText}:void 0,image:e.banner?"".concat(l.O.NEXT_PUBLIC_PAYLOAD_URI).concat(e.banner.url):"public/images/events/upcoming-event.jpg"}};var d=a(8843),u=a(8714),m=a(6759);let h=()=>(0,r.jsxs)("div",{className:"flex w-full flex-col gap-6 rounded-xl bg-white p-4 text-black lg:flex-row",children:[(0,r.jsx)("div",{className:"aspect-[2/1] w-full rounded-lg border-[3px] border-gray-400 bg-gray-300 md:w-[450px]"}),(0,r.jsxs)("div",{className:"flex grow flex-col space-y-2 md:space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-6 font-bold",children:[(0,r.jsxs)("div",{className:"grow space-y-2",children:[(0,r.jsx)("div",{className:"h-8 w-3/4 rounded-md bg-gray-300"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"h-6 w-6 rounded-md bg-gray-300"}),(0,r.jsx)("div",{className:"h-4 w-1/2 rounded-md bg-gray-300"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"h-6 w-6 rounded-md bg-gray-300"}),(0,r.jsx)("div",{className:"h-4 w-1/2 rounded-md bg-gray-300"})]})]}),(0,r.jsxs)("div",{className:"flex h-[80px] w-[80px] flex-col items-center justify-center self-start rounded-md border-[3px] border-gray-400 bg-gray-300 px-4 py-2",children:[(0,r.jsx)("div",{className:"mb-1 h-4 w-10 rounded-md bg-gray-400"}),(0,r.jsx)("div",{className:"justify-left mb-1 h-4 w-10",children:(0,r.jsx)("div",{className:"mb-1 h-4 w-5 rounded-md bg-gray-400"})})]})]}),(0,r.jsx)("div",{className:"flex-1 rounded-md bg-gray-300"})]})]});var _=a(5903),x=a(6005);function g(e){var t;let{event:a,index:l,isPastEvent:s}=e,i=a.title.replaceAll(" ","-");return(0,r.jsx)(n.Z,{colour:"white",offset:"8",rounded:!0,fullWidth:!0,children:(0,r.jsxs)("div",{id:"".concat(i,"-").concat(a.date.year),className:"flex w-full scroll-mt-[40vh] flex-col gap-6 rounded-xl bg-white p-4 text-black lg:flex-row",children:[(0,r.jsx)(_.default,{src:a.image,alt:"".concat(a.title),width:450,height:450,className:"w-full shrink-0 rounded-lg border-[3px] border-black bg-white object-contain md:w-[450px] ".concat(s?"grayscale":"")}),(0,r.jsxs)("div",{className:"grow space-y-2 md:space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-6 font-bold",children:[(0,r.jsxs)("div",{className:"grow space-y-2",children:[(0,r.jsx)("h4",{className:"text-2xl md:border-b-[3px] md:border-black md:pb-1 md:text-3xl",children:a.title}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(x.TCC,{size:26}),(0,r.jsx)("span",{children:a.time})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(x.i63,{size:26}),(0,r.jsx)("span",{children:a.location})]})]}),(0,r.jsxs)("div",{className:"h-fit rounded-md border-[3px] border-black px-4 py-2 ".concat(["bg-orange","bg-yellow","bg-purple"][l%3]," ").concat(s?"grayscale":""),children:[(0,r.jsx)("div",{children:a.date.month}),(0,r.jsx)("div",{children:a.date.day})]})]}),(0,r.jsx)("div",{children:a.details}),a.url&&(0,r.jsx)("a",{href:a.url.href.toString(),target:"_blank",rel:"noopener noreferrer",className:"font-bold hover:underline",children:null!==(t=a.url.text)&&void 0!==t?t:"Click here!"})]})]})})}function p(e){let{year:t,events:a,isOpenDefault:n,isPastEvent:l}=e,[s,i]=(0,m.useState)(n);return(0,r.jsxs)("div",{children:[l&&(0,r.jsxs)("div",{className:"flex cursor-pointer items-center justify-center",onClick:()=>i(!s),children:[(0,r.jsx)(_.default,{src:"/images/yellow-triangle.svg",alt:"Yellow Triangle",className:"mr-4 transition-transform duration-300 ease-in-out ".concat(s?"rotate-90":"rotate-120"),width:30,height:30}),(0,r.jsx)("h3",{className:"text-3xl font-bold md:text-4xl",children:t.toString()})]}),s&&(0,r.jsx)("div",{className:"mt-6 space-y-8",children:a.map((e,t)=>(0,r.jsx)(g,{index:t,event:e,isPastEvent:l},t))})]})}let f=[];function b(e){let{children:t}=e;return(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(n.Z,{colour:"yellow",offset:"8",children:(0,r.jsx)("div",{className:"w-fit bg-yellow p-2",children:(0,r.jsx)("h2",{className:"text-center text-4xl font-bold text-grey md:text-6xl",children:t})})})})}let N=e=>{let t="".concat(e.date.year,"-").concat(e.date.month,"-").concat(e.date.day,"T").concat(e.date.endTime);return u.ou.fromFormat(t,"yyyy-MMM-d'T'HH:mm",{zone:"Australia/Adelaide"}).toJSDate()};function E(e){let{className:t}=e,[a,n]=(0,m.useState)(!0);if((0,d.b)(()=>{c().then(e=>{f.push(...e),n(!1)})}),a)return(0,r.jsxs)("section",{className:"".concat(t," space-y-8"),children:[(0,r.jsx)(b,{children:"Upcoming Events"}),(0,r.jsx)(h,{})]});{let e=new Date,a=e.getFullYear(),n={},l={};f.forEach(t=>{let a=N(t),r=t.date.year;a>=e?(n[r]||(n[r]=[])).push(t):(l[r]||(l[r]=[])).push(t)}),Object.values(n).forEach(e=>e.sort((e,t)=>N(e).getTime()-N(t).getTime())),Object.values(l).forEach(e=>e.sort((e,t)=>N(t).getTime()-N(e).getTime()));let s=e=>Object.keys(e).map(Number).reverse(),i=s(n),c=s(l);return(0,r.jsxs)("section",{className:"".concat(t," space-y-8"),children:[i.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{children:"Upcoming Events"}),i.map(e=>(0,r.jsx)(p,{year:e,events:n[e],isOpenDefault:e===a},e))]}),c.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-4"}),(0,r.jsx)(b,{children:"Past Events"}),c.map(e=>(0,r.jsx)(p,{year:e,events:l[e],isOpenDefault:e===a,isPastEvent:!0},e))]})]})}}},277:function(e,t,a){"use strict";var r=a(1919),n=a(1925);a(6759),t.Z=e=>{let{children:t,colour:a,offset:l,filled:s,rounded:i,fullWidth:c,fullHeight:o}=e,d=parseInt(l,10);return(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{className:"relative ".concat(o?"h-full":"h-auto"," ").concat(c?"w-full":"w-auto"),children:[(0,r.jsx)("div",{style:{marginBottom:"-".concat(d,"px"),marginRight:"-".concat(d,"px")},className:"absolute bottom-0 right-0 h-full w-full ".concat(s?n._d[a]:n.BG[a]," ").concat(i?"rounded-xl":"")}),(0,r.jsx)("div",{className:"relative z-10 flex h-full w-full items-center justify-center",children:t})]})})}},1433:function(e,t,a){"use strict";a.d(t,{default:function(){return i}});var r=a(1919),n=a(8843),l=a(5903),s=a(6759);function i(e){let{images:t,width:a,height:i}=e,[c,o]=(0,s.useState)(0),[d,u]=(0,s.useState)(!1),m=()=>{u(!0),setTimeout(()=>{o(e=>e===t.length-1?0:e+1),u(!1)},500)};return(0,n.b)(()=>{let e=setInterval(m,5e3);return()=>clearInterval(e)}),(0,r.jsxs)(r.Fragment,{children:[t.map((e,t)=>(0,r.jsx)(l.default,{src:e.src,alt:e.alt,width:a,height:i,className:"hidden",priority:!0},t)),(0,r.jsx)("div",{className:"transition-opacity duration-500 ease-in-out ".concat(d?"opacity-0":"opacity-100"),children:(0,r.jsx)(l.default,{src:t[c].src,alt:t[c].alt,width:a,height:i,className:"h-full w-full object-cover"})})]})}},1925:function(e,t,a){"use strict";a.d(t,{BG:function(){return n},_d:function(){return r}});let r={black:"bg-black",grey:"bg-grey",lightGrey:"bg-gray-500",white:"bg-white",yellow:"bg-yellow",orange:"bg-orange",purple:"bg-purple"},n={black:"border-black border-2",grey:"border-grey border-2",lightGrey:"border-gray-500 border-2",white:"border-white border-2",yellow:"border-yellow border-2",orange:"border-orange border-2",purple:"border-purple border-2"}},8843:function(e,t,a){"use strict";a.d(t,{b:function(){return n}});var r=a(6759);let n=e=>{let t=(0,r.useRef)(!1);(0,r.useEffect)(()=>{t.current||(e(),t.current=!0)},[])}},4664:function(e,t,a){"use strict";a.d(t,{_:function(){return n}});let r=a(5124).ZP.create({prefixUrl:"/api"}),n=["get","post","put","delete","patch"].reduce((e,t)=>({...e,[t]:{query:async e=>await r[t](...e).json(),mutate:async(e,a)=>{let{arg:n}=a;return await r[t](e,{json:n}).json()}}}),{})},7730:function(e,t,a){"use strict";a.d(t,{O:function(){return s}});var r=a(7300),n=a(3739),l=a(1539);let s=(0,r.D)({server:{AUTH_KEYCLOAK_ID:n.Z_().min(1).optional(),AUTH_KEYCLOAK_SECRET:n.Z_().min(1).optional(),AUTH_REALM:n.Z_().min(1).optional(),DATABASE_URL:n.Z_().min(1),DATABASE_AUTH_TOKEN:n.Z_().min(1),SQUARE_ACCESS_TOKEN:n.Z_().min(1),SQUARE_LOCATION_ID:n.Z_().min(1),REDIS_URI:n.Z_().min(1),SMTP_HOST:n.Z_().min(1).optional(),SMTP_USER:n.Z_().min(1).optional(),SMTP_PASS:n.Z_().min(1).optional(),SMTP_EMAIL_ADDRESS:n.Z_().min(1).email().optional(),DISCORD_TOKEN:n.Z_().min(1).optional()},client:{NEXT_PUBLIC_KEYCLOAK_REDIRECT_URI:n.Z_().url().min(1).optional(),NEXT_PUBLIC_CONTAINER_KEYCLOAK_ENDPOINT:n.Z_().url().min(1).optional(),NEXT_PUBLIC_LOCAL_KEYCLOAK_URL:n.Z_().url().min(1).optional(),NEXT_PUBLIC_DRIVE_LINK:n.Z_().url().min(1),NEXT_PUBLIC_UMAMI_WEBSITE_ID:n.Z_().optional(),NEXT_PUBLIC_PAYLOAD_URI:n.Z_().url(),NEXT_PUBLIC_DISCORD_REDIRECT_URI:n.Z_().url().min(1).optional(),NEXT_PUBLIC_DISCORD_CLIENT_ID:n.Z_().min(1).optional(),NEXT_PUBLIC_DISCORD_CLIENT_SECRET:n.Z_().min(1).optional()},experimental__runtimeEnv:{NEXT_PUBLIC_KEYCLOAK_REDIRECT_URI:"https://csclub.org.au/join",NEXT_PUBLIC_CONTAINER_KEYCLOAK_ENDPOINT:"https://auth.csclub.org.au",NEXT_PUBLIC_LOCAL_KEYCLOAK_URL:"https://auth.csclub.org.au",NEXT_PUBLIC_DRIVE_LINK:"https://1drv.ms/f/c/cd0c8999292c9e09/EvcFzbH5qB5Dma5FyiHviMgBF6y5vC5Qzgvfmemy1P5ByA",NEXT_PUBLIC_UMAMI_WEBSITE_ID:"f49d14d9-2912-4225-8204-95fd981eab94",NEXT_PUBLIC_PAYLOAD_URI:"https://cms.csclub.org.au",NEXT_PUBLIC_DISCORD_REDIRECT_URI:"https://csclub.org.au/discord-oauth-callback",NEXT_PUBLIC_DISCORD_CLIENT_ID:"1237020956430700634",NEXT_PUBLIC_DISCORD_CLIENT_SECRET:"KpQt40FCnB2vzaB5rpbIZHZupqMtPW-E"},skipValidation:l.env.SKIP_ENV_VALIDATION})}},function(e){e.O(0,[868,670,217,300,5,604,95,744],function(){return e(e.s=5488)}),_N_E=e.O()}]);